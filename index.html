<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Virac</title>

    <script src="https://aframe.io/releases/0.8.2/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v4.2.0/dist/aframe-extras.min.js"></script> <!--Extra--->
    <script src="https://cdn.rawgit.com/zcanter/aframe-gradient-sky/master/dist/gradientsky.min.js"></script> <!--Weather--->
    <script src="https://rawgit.com/rdub80/aframe-gui/master/dist/aframe-gui.min.js"></script> <!--GUI--->
    <script src="https://rawgit.com/atomicguy/aframe-fence-component/master/dist/aframe-fence-component.min.js"></script>

</head>

<body>
    <a-scene>
        <a-assets>
            <!-- All images assets -->
            <img id="sky" src="images/sky.png">
            <img id="road" src="images/road.jpg">
            <img id="sideroad" src="images/sideroad.jpg">
            <img id="grass" src="images/grass.jpg">
            <img id="cpavement" src="images/cycling_pavement.jpg">
            <img id="walkway" src="images/walkway.jpg">
            <img id="floor" src="images/floor.jpg">
            <img id="segway" src="images/segway.png">
            <img id="bicycle" src="images/bicycle.png">
            <img id="barrier" src="images/barrier.png">
        </a-assets>

        <!-- Envrionments -->
        <a-sky src="#sky"></a-sky>
        <a-plane repeat="1 10" src="#road" position="0 0 -4" rotation="-90 0 0" width="10" height="100" color="#7BC8A4" shadow></a-plane>
        <a-plane repeat="1 10" src="#road" position="0 0 -59" rotation="-90 -90 0" width="10" height="100" color="#7BC8A4" shadow></a-plane>
        

       <!--  <a-plane repeat="1 10" src="#floor" position="7.5 0 -4" rotation="-90 0 0" width="5" height="100" color="#7BC8A4" shadow></a-plane>
        <a-plane repeat="1 10" src="#floor" position="-7.5 0 -4" rotation="-90 0 0" width="5" height="100" color="#7BC8A4" shadow></a-plane> -->
        <a-box repeat="3 1" src="#barrier" position="0 1 10" rotation="0 0 0" width="15" height="1.5"></a-box>    

        <a-plane repeat="1 50" src="#sideroad" position="5.2 0 -4" rotation="-90 0 0" width="0.6" height="100" color="#7BC8A4" shadow></a-plane>
        <a-plane repeat="1 50" src="#sideroad" position="-5.2 0 -4" rotation="-90 0 0" width="0.6" height="100" color="#7BC8A4" shadow></a-plane>

        <a-plane repeat="1 100" src="#grass" position="7 0 -4" rotation="-90 0 0" width="3" height="100" color="#7BC8A4" shadow></a-plane>
        <a-plane repeat="1 100" src="#grass" position="-7 0 -4" rotation="-90 0 0" width="3" height="100" color="#7BC8A4" shadow></a-plane>

        <a-plane repeat="1 100" src="#cpavement" position="11 0 -4" rotation="-90 0 0" width="5" height="100" color="#7BC8A4" shadow></a-plane>
        <a-plane repeat="1 100" src="#cpavement" position="-11 0 -4" rotation="-90 0 0" width="5" height="100" color="#7BC8A4" shadow></a-plane>

        <a-plane repeat="1 100" src="#walkway" position="16 0 -4" rotation="-90 0 0" width="5" height="100" color="#7BC8A4" shadow></a-plane>
        <a-plane repeat="1 100" src="#walkway" position="-16 0 -4" rotation="-90 0 0" width="5" height="100" color="#7BC8A4" shadow></a-plane>

        <a-box repeat="1 100" position="21 0 -4" rotation="-90 0 0" width="5" height="100" color="#fc8c76" depth="50" shadow></a-box>
        <a-box repeat="1 100" position="-21 0 -4" rotation="-90 0 0" width="5" height="100" color="#fc8c76" depth="50" shadow></a-box>





        <!-- Camera + cursor. -->
        <a-entity camera position="2 1.6 0.5" look-controls wasd-controls="acceleration: 200">
          <a-entity cursor="fuse: true; fuseTimeout: 1000"
                    position="0 0 -1"
                    geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03"
                    material="color: black; shader: flat">
            <a-animation begin="click" easing="ease-in" attribute="scale"
                         fill="backwards" from="0.1 0.1 0.1" to="1 1 1"></a-animation>
            <a-animation begin="cursor-fusing" easing="ease-in" attribute="scale"
                         fill="forwards" from="1 1 1" to="0.1 0.1 0.1"></a-animation>
          </a-entity>
          <a-entity geometry="primitive: plane; height: 0.4; width: 1.2" position="-1.45 0.7 -1" material="color: gray; opacity: 0.5" id="hazardID"></a-entity>
          <a-entity geometry="primitive: plane; height: 0.4; width: 1.2" position="1.40 0.7 -1" material="color: gray; opacity: 0.5" id="hazardID"></a-entity>
        </a-entity>
        
        <!-- Start menu -->
        <a-entity id="scene0">  
            <a-gui-flex-container flex-direction="row" justify-content="center" align-items="normal" component-padding="1" opacity="1" width="9" height="4.5" position="0 2.5 -2" rotation="0 0 0" panel-color="#FFDA03">
                <a-gui-label 
                    width="4" height="1"
                    value="Virac"
                    font-family="Impact"
                    font-size = "350px"
                    margin="0 0 0.0 0"
                    font-color="#000"
                    background-color="#FFDA03">
                    <a-text value="Virtual Riding and Cycling" position="-1.2 -0.7 0" color="#2B2B2B"></a-text>
                </a-gui-label>
                <a-gui-button
                    width="3" height="0.75"
                    onclick="advance0to1()"
                    icon="social-github"
                    value="Start Game"
                    font-family="Impact"
                    margin="-0.2 0 0.01 1"
                    background-color="#FFDA03"
                    font-color="#000"
                    border-color="#000"
                    hover-color="#DD9E00"
                    border-width="2"> 
                </a-gui-button>
            </a-gui-flex-container>
        </a-entity>

        <!-- Choose Mode -->
        <a-entity id="scene1">
            <a-text value="Select Mode" font="monoid" position="-0.4 1.4 -4.25" color="#2B2B2B"></a-text>
            <a-gui-flex-container flex-direction="row" justify-content="center" align-items="normal" component-padding="1" opacity="1" width="9" height="4.5" position="0 2.5 -10" rotation="0 0 0" panel-color="#FFDA03">
                <a-gui-button
                    onclick="advance1to2('cyclist')"
                    width="4" height="4.5"
                    value="i"
                    font-family="Impact"
                    background-color="#FFDA03"
                    margin="0 1 0 0"
                    font-color="#000"
                    border-color="#000"
                    hover-color="#DD9E00"
                    border-width="2"> 
                    <a-image src="#bicycle" width="2" height="2" position="0.2 0 0.25"></a-image>
                    <a-text value="Cyclist" font="monoid" position="-0.4 1.4 0.25" color="#2B2B2B"></a-text>
                </a-gui-button>
                <a-gui-button
                    onclick="advance1to2('pmd')"
                    width="4" height="4.5"
                    icon="social-github"
                    value="Start Game"
                    font-family="Impact"
                    background-color="#FFDA03"
                    font-color="#000"
                    border-color="#000"
                    hover-color="#DD9E00"
                    border-width="2"> 
                    <a-image src="#segway" width="2" height="2" position="-0.3 0 0.25"></a-image>
                    <a-text value="PMD User" font="monoid" position="-0.4 1.4 0.25" color="#2B2B2B"></a-text>
                </a-gui-button>
            </a-gui-flex-container>
        </a-entity>
        
        <!-- Choose Mode -->
        <a-entity id="scene2">
            <a-text value="Preparation" font="monoid" position="1 2.4 -6.25" color="#2B2B2B"></a-text>
            <a-text value="Select equipment needed for the journey" font="monoid" position="-0.4 2 -6.25" color="#2B2B2B"></a-text>

             <a-gui-flex-container flex-direction="column" justify-content="center" align-items="normal" component-padding="0.1" opacity="1" width="3" height="4.5" position="-3 2.5 -12" rotation="0 0 0" panel-color="#FFDA03">
                <a-gui-button width="2" height="1.3" onclick="clickOne" value="Helmet" font-family="Arial" font-color="#000" background-color="#FFDA03" border-color="#000" margin="0.1 0 0 0"></a-gui-button>
                <a-gui-button width="2" height="1.3" onclick="clickOne" value="Slippers" font-family="Arial" font-color="#000" background-color="#FFDA03" border-color="#000" margin="0.1 0 0 0"></a-gui-button>
                <a-gui-button width="2" height="1.3" onclick="clickOne" value="Lights" font-family="Arial" font-color="#000" background-color="#FFDA03" border-color="#000" margin="0.1 0 0 0"></a-gui-button>
            </a-gui-flex-container>

            <a-gui-flex-container flex-direction="column" justify-content="center" align-items="normal" component-padding="0.1" opacity="1" width="3" height="4.5" position="0 2.5 -12" rotation="0 0 0" panel-color="#FFDA03">
                <a-gui-button width="2" height="1.3" onclick="clickOne" value="Shoes" font-family="Arial" font-color="#000" background-color="#FFDA03" border-color="#000" margin="0.1 0 0 0"></a-gui-button>
                <a-gui-button width="2" height="1.3" onclick="clickOne" value="1" font-family="Arial" font-color="#000" background-color="#FFDA03" border-color="#000" margin="0.1 0 0 0"></a-gui-button>
                <a-gui-button width="2" height="1.3" onclick="clickOne" value="1" font-family="Arial" font-color="#000" background-color="#FFDA03" border-color="#000" margin="0.1 0 0 0"></a-gui-button>
            </a-gui-flex-container>

            <a-gui-flex-container flex-direction="column" justify-content="center" align-items="normal" component-padding="0.1" opacity="1" width="3" height="4.5" position="3 2.5 -12" rotation="0 0 0" panel-color="#FFDA03">
                <a-gui-button width="2" height="1.3" onclick="clickOne" value="1" font-family="Arial" font-color="#000" background-color="#FFDA03" border-color="#000" margin="0.1 0 0 0"></a-gui-button>
                <a-gui-button width="2" height="1.3" onclick="clickOne" value="1" font-family="Arial" font-color="#000" background-color="#FFDA03" border-color="#000" margin="0.1 0 0 0"></a-gui-button>
                <a-gui-button width="2" height="1.3" onclick="clickOne" value="1" font-family="Arial" font-color="#000" background-color="#FFDA03" border-color="#000" margin="0.1 0 0 0"></a-gui-button>
            </a-gui-flex-container>
        </a-entity>


    </a-scene>
</body>
</html>

<script>
    function setStage(){
        document.getElementById('scene0').setAttribute('visible', 'true');
        document.getElementById('scene1').setAttribute('visible', 'false');
        document.getElementById('scene2').setAttribute('visible', 'false');
    }

    setStage();

    function advance0to1(){
        console.log("Echo after me ah")
        document.getElementById('scene0').setAttribute('visible', 'false');
        document.getElementById('scene1').setAttribute('visible', 'true');
    }

    function advance1to2(mode){
        console.log("Screen2");
        document.getElementById('scene0').setAttribute('visible', 'false');
        document.getElementById('scene1').setAttribute('visible', 'false');
        document.getElementById('scene2').setAttribute('visible', 'true');
    }

</script>